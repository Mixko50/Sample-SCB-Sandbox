(this["webpackJsonpsample-scb-sandbox"]=this["webpackJsonpsample-scb-sandbox"]||[]).push([[0],{19:function(e,t,c){},68:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),s=c(28),r=c.n(s),i=c(31),o=c(1),b=(c(19),c(2)),l=function(){var e=Object(o.f)();return Object(b.jsxs)("div",{className:"box",children:[Object(b.jsx)("h1",{children:"Successfully"}),Object(b.jsx)("div",{className:"button",onClick:function(){e.push("/")},children:"Go back"})]})},u=c(10),j=c.n(u),p=c(18),x=c(32),h=c(11),d=c.n(h),O=function(){var e=Object(a.useState)(""),t=Object(x.a)(e,2),c=t[0],n=t[1],s=Object(o.f)(),r=function(){var e=Object(p.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("https://scb-sandbox-api.mixkoap.com/get-token");case 2:return e.next=4,d.a.get("https://scb-sandbox-api.mixkoap.com/create-qr");case 4:t=e.sent,n(t.data.data.qrRawData);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=setInterval(Object(p.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("https://scb-sandbox-api.mixkoap.com/status");case 3:if(!e.sent.data.request.payeeName){e.next=10;break}return s.push("/callback"),e.next=8,d.a.get("https://scb-sandbox-api.mixkoap.com/clear");case 8:!0===e.sent.data.clear&&clearInterval(i);case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(0);case 14:case"end":return e.stop()}}),e,null,[[0,12]])}))),1e3);return Object(b.jsxs)("div",{className:"box",children:[Object(b.jsx)("div",{className:"button",onClick:r,children:"Pay now"}),c.length>1?Object(b.jsx)("img",{src:"https://chart.googleapis.com/chart?cht=qr&chs=300x300&chl=".concat(c),alt:"QRCODE"}):null]})};c(64).config();var f=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(i.a,{children:Object(b.jsx)("div",{children:Object(b.jsxs)(o.c,{children:[Object(b.jsx)(o.a,{exact:!0,path:"/",children:Object(b.jsx)(O,{})}),Object(b.jsx)(o.a,{path:"/callback",children:Object(b.jsx)(l,{})})]})})})})},m=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,69)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),a(e),n(e),s(e),r(e)}))};r.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(f,{})}),document.getElementById("root")),m()}},[[68,1,2]]]);
//# sourceMappingURL=main.8de89eb9.chunk.js.map